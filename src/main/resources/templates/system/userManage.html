








<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ìš©ì ê´€ë¦¬</title>
    <!-- DataTables ê³µí†µ CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script defer th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/datatables-custom.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/sidebar.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <script th:src="@{/js/common.js}"></script>
    <script defer th:src="@{/js/searchModal.js}"></script>
    <link rel="stylesheet" th:href="@{/css/slimTable.css}">

    <style>
        .button-container {
              display: flex;
              justify-content: flex-end; /* ë²„íŠ¼ì„ ì˜¤ë¥¸ìª½ ì •ë ¬ */
              margin-top: 10px;
          }

        .button-container button {
            margin-left: 10px;
        }
        .userbtn button {
            white-space: nowrap; /* ë²„íŠ¼ ë‚´ë¶€ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
            font-size: 12px; /* ë²„íŠ¼ í°íŠ¸ í¬ê¸° */
            background-color: #f8f9fa; /* ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
            color: #495057; /* ë‹¤í¬ ê·¸ë ˆì´ ê¸€ì”¨ */
            border: 1px solid #ced4da; /* ì–‡ì€ ë³´ë” */
            padding: 5px 10px;
            border-radius: 0;
            transition: background-color 0.2s ease-in-out;
        }

        .userbtn button:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
            color: #495057;
        }
    </style>

</head>
<body>

<!-- DataTables ê³µí†µ JS -->
<div th:replace="fragments/datatables.html :: datatables-head"></div>
<div th:replace="fragments/datatables.html :: datatables-body"></div>

<div th:replace="fragments/navbar :: navbar"></div>
<div th:replace="fragments/searchModal :: searchModal"></div>

<div class="wrapper">
    <!-- ğŸ“Œ ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
    <nav class="sidebar">
        <a href="#">ğŸ™ğŸ»â€â™€ï¸ ì‚¬ìš©ì ê´€ë¦¬</a>
    </nav>

    <!-- ğŸ“Œ ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <div class="content">
        <table id="userTable" class="datatable table-hover" style="width:100%">
            <thead>
            <tr>
                <!--                <th><input type="checkbox" id="selectAll"></th> &lt;!&ndash; ì²´í¬ë°•ìŠ¤ í—¤ë” &ndash;&gt;-->
                <th>ì‚¬ì›ë²ˆí˜¸</th>
                <th>ì„±ëª…</th>
                <th>ê¶Œí•œ</th>
                <th>ë“±ë¡ì ì‚¬ë²ˆ</th>
                <th>ë“±ë¡ì¼ì</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <!--                <td><input type="checkbox" class="rowCheckbox"></td>-->
                <td th:text="${user.Id}"></td>
                <td th:text="${user.name}"></td>
                <td th:text="${user.role}"></td>
                <td th:text="${user.registeredBy}"></td>
                <td th:text="${user.createdAt}"></td>
            </tr>
            </tbody>
        </table>
        <div class="button-container userbtn">
            <button id="createButton" class="btn">ì‚¬ìš©ì ìƒì„±</button>
            <button id="resetButton" class="btn">ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”</button>
            <button id="retireButton" class="btn">í‡´ì§ì²˜ë¦¬</button>
        </div>

    </div>

</div>

<script>
    $(document).ready(function () {
        // ì‚¬ìš©ì ìƒì„± ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById("createButton").addEventListener("click", function () {
            const popupUrl = "/system/createUser"; // íŒì—… URL
            window.open(popupUrl, "CreateUser", "width=450,height=540,scrollbars=yes,resizable=no");
        });
        // ì´ˆê¸°í™” ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        $('#resetButton').on('click', function () {
            const firstSelectedRow = $('.datatable tbody tr.selected').first();
            const firstCheckedRow = $('.datatable tbody input.rowCheckbox:checked').first().closest('tr');
            const rowToReset = firstCheckedRow.length ? firstCheckedRow : firstSelectedRow;

            if (rowToReset.length) {
                const rowData = rowToReset.find('td').map(function () {
                    return $(this).text();
                }).get();
                alert("ì´ˆê¸°í™” ëŒ€ìƒ: " + rowData[1] + " (" + rowData[2] + ")");
                // ì´ˆê¸°í™” ë¡œì§ ì¶”ê°€
            } else {
                alert("ì´ˆê¸°í™”í•  í–‰ì„ ì„ íƒí•˜ì„¸ìš”.");
            }
        });

        // í‡´ì§ ì²˜ë¦¬ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        $('#retireButton').on('click', function () {
            const firstSelectedRow = $('.datatable tbody tr.selected').first();
            const firstCheckedRow = $('.datatable tbody input.rowCheckbox:checked').first().closest('tr');
            const rowToRetire = firstCheckedRow.length ? firstCheckedRow : firstSelectedRow;

            if (rowToRetire.length) {
                const rowData = rowToRetire.find('td').map(function () {
                    return $(this).text();
                }).get();
                alert("í‡´ì§ ì²˜ë¦¬ ëŒ€ìƒ: " + rowData[1] + " (" + rowData[2] + ")");
                // í‡´ì§ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
            } else {
                alert("í‡´ì§ ì²˜ë¦¬í•  í–‰ì„ ì„ íƒí•˜ì„¸ìš”.");
            }
        });
    });
</script>
</body>
</html>