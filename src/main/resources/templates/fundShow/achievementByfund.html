<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>투자비율 달성여부 조회</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <script defer th:src="@{/js/bootstrap.bundle.min.js}"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" th:href="@{/css/slimTable.css}">
  <link rel="stylesheet" th:href="@{/css/common.css}">
  <link rel="stylesheet" th:href="@{/css/popUpNavbar.css}">
  <style>
    th:first-child {
      width: 10%; /* 텍스트 크기에 맞게 자동 조정 */
      white-space: nowrap; /* 줄바꿈 방지 */
    }
  </style>

</head>
<body class="container mt-4">
<div th:replace="fragments/popUpNavbar :: navbar"></div>

<h2 class="mb-4">투자비율 달성여부 조회</h2>

<!-- ✅ 펀드 성과 테이블 -->
<table class="table table-bordered text-center">
  <caption class="text-end">
    (단위: 원, %)
  </caption>
  <thead class="table-light">
  <tr>
    <th colspan="4">투자누계액 기준</th>
  </tr>
  </thead>
  <tbody>
  <!-- 의무투자 -->
  <tr>
    <th rowspan="3" class="small-th">의무투자</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mandatoryAmount != null ? #numbers.formatInteger(rFundAchievementDTO.mandatoryAmount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mandatoryRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.mandatoryRatio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.mandatoryCriteria} + ' * ' + (${rFundAchievementDTO.mandatoryCriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.mandatoryCriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>

  <!-- 주목적 투자 1 -->
  <tr>
    <th rowspan="3">주목적투자 1</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mainInvest1Amount != null ? #numbers.formatInteger(rFundAchievementDTO.mainInvest1Amount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mainInvest1Ratio != null ? #numbers.formatDecimal(rFundAchievementDTO.mainInvest1Ratio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.mainInvest1Criteria} + ' * ' + (${rFundAchievementDTO.mainInvest1CriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.mainInvest1CriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>

  <!-- 주목적 투자 2 -->
  <tr>
    <th rowspan="3">주목적투자 2</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mainInvest2Amount != null ? #numbers.formatInteger(rFundAchievementDTO.mainInvest2Amount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.mainInvest2Ratio != null ? #numbers.formatDecimal(rFundAchievementDTO.mainInvest2Ratio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.mainInvest2Criteria} + ' * ' + (${rFundAchievementDTO.mainInvest2CriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.mainInvest2CriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>

  <!-- 특수목적 투자 1 -->
  <tr>
    <th rowspan="3">특수목적투자 1</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest1Amount != null ? #numbers.formatInteger(rFundAchievementDTO.specialInvest1Amount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest1Ratio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest1Ratio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.specialInvest1Criteria} + ' * ' + (${rFundAchievementDTO.specialInvest1CriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest1CriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>

  <!-- 특수목적 투자 2 -->
  <tr>
    <th rowspan="3">특수목적투자 2</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest2Amount != null ? #numbers.formatInteger(rFundAchievementDTO.specialInvest2Amount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest2Ratio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest2Ratio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.specialInvest2Criteria} + ' * ' + (${rFundAchievementDTO.specialInvest2CriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest2CriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>

  <!-- 특수목적 투자 3 -->
  <tr>
    <th rowspan="3">특수목적투자 3</th>
    <th>금액</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest3Amount != null ? #numbers.formatInteger(rFundAchievementDTO.specialInvest3Amount, 3, 'COMMA') : ''}"></td>
  </tr>
  <tr>
    <th>비율</th>
    <td class="text-end" th:text="${rFundAchievementDTO.specialInvest3Ratio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest3Ratio, 1, 1, 'POINT') + '%' : ''}"></td>
  </tr>
  <tr>
    <th>기준</th>
    <td th:text="${rFundAchievementDTO.specialInvest3Criteria} + ' * ' + (${rFundAchievementDTO.specialInvest3CriteriaRatio != null ? #numbers.formatDecimal(rFundAchievementDTO.specialInvest3CriteriaRatio, 1, 1, 'POINT') + '%' : ''})"></td>
  </tr>
  </tbody>

</table>

</body>
</html>
