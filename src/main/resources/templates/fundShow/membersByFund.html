<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>조합원 조회</title>

    <!-- ✅ 부트스트랩 적용 -->
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <style>
        th, td {
            text-align: center;
            vertical-align: middle;
            font-size: 14px;
        }
    </style>
</head>
<body class="container mt-4">

<h2 class="mb-4">조합원 조회</h2>

<!-- 조합 ID 정보 -->
<p><strong>조합 ID:</strong> <span th:text="${fundId}"></span></p>

<!-- ✅ 조합원 테이블 -->
<table class="table table-bordered text-center">
    <thead class="table-light">
    <tr>
        <th rowspan="2">No</th>
        <th rowspan="2">조합원명</th>
        <th rowspan="2">조합원유형</th>
        <th rowspan="2">연락처</th>
        <th rowspan="2">사업자등록번호</th>
        <th rowspan="2">주민등록번호</th>
        <th rowspan="2">주소</th>
        <th rowspan="2">출자금액</th>
        <th rowspan="2">출자비율</th>
    </tr>
    </thead>
    <tbody>
    <!-- ✅ 1~49까지 행을 미리 생성 -->
    <tr th:each="i : ${#numbers.sequence(1, 49)}">
        <td th:text="${i}"></td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${rFundMemDTOS[i-1].memberName}"></span>
        </td>
        <td>
            <select class="form-select" readonly>
                <option value=""></option>
                <option value="업무집행조합원" th:selected="${i <= rFundMemDTOS.size() && rFundMemDTOS[i-1].memberType == '업무집행조합원'}">업무집행조합원</option>
                <option value="특별조합원" th:selected="${i <= rFundMemDTOS.size() && rFundMemDTOS[i-1].memberType == '특별조합원'}">특별조합원</option>
                <option value="유한책임조합원" th:selected="${i <= rFundMemDTOS.size() && rFundMemDTOS[i-1].memberType == '유한책임조합원'}">유한책임조합원</option>
            </select>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${rFundMemDTOS[i-1].contact}"></span>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${rFundMemDTOS[i-1].businessRegNo}"></span>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${rFundMemDTOS[i-1].residentRegNo}"></span>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${rFundMemDTOS[i-1].address}"></span>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${#numbers.formatInteger(rFundMemDTOS[i-1].committedUnitPrice, 3, 'COMMA')} + ' 원'"></span>
        </td>
        <td>
            <span th:if="${i <= rFundMemDTOS.size()}" th:text="${#numbers.formatDecimal(rFundMemDTOS[i-1].contributionRate, 1, 2, 'COMMA')} + ' %'"></span>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
