<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡°í•©ì •ë³´ì¡°íšŒ</title>

    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script defer th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/datatables-custom.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/sidebar.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/slimTable.css}">
    <script th:src="@{/js/common.js}"></script>
    <script defer th:src="@{/js/searchModal.js}"></script>

    <style></style>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("fundUpdateForm");

            // ìˆ«ì ì…ë ¥ í•„ë“œ ìë™ í¬ë§· ì ìš© (ì²œë‹¨ìœ„ ì½¤ë§ˆ, ìŒìˆ˜ í¬í•¨)
            function formatNumberInput(input) {
                input.addEventListener("input", function () {
                    let value = this.value.replace(/[^0-9.-]/g, ""); // ìˆ«ì, ë§ˆì´ë„ˆìŠ¤, ì  ì œì™¸ ì‚­ì œ
                    if (value !== "") {
                        this.value = Number(value).toLocaleString("en-US"); // ì²œ ë‹¨ìœ„ ì½¤ë§ˆ ì¶”ê°€
                    }
                });

                input.addEventListener("blur", function () {
                    let value = this.value.replace(/[^0-9.-]/g, "");
                    this.value = value !== "" ? Number(value).toLocaleString("en-US") : "";
                });
            }

            // ëª¨ë“  ê¸ˆì•¡ ê´€ë ¨ í•„ë“œì— ì ìš©
            const numberFields = document.querySelectorAll(".number-format");
            numberFields.forEach(formatNumberInput);
        });

        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("fundUpdateForm");

            form.addEventListener("submit", function (event) {
                event.preventDefault();

                // ì½¤ë§ˆ ì œê±° í›„ ë°ì´í„° ë³€í™˜
                const numberFields = document.querySelectorAll(".number-format");
                numberFields.forEach(field => {
                    field.value = field.value.replace(/,/g, "");
                });

                // í¼ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                const formData = new FormData(form);
                const jsonData = Object.fromEntries(formData.entries());

                // ì„œë²„ì— PUT ìš”ì²­ ë³´ë‚´ê¸°
                fetch("/api/funds/updateFund", {
                    method: "PUT",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(jsonData)
                })
                    .then(response => {
                        if (!response.ok) throw new Error("ì €ì¥ ì‹¤íŒ¨");
                        return response.json();
                    })
                    .then(data => {
                        alert("í€ë“œ ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
                        location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                    })
                    .catch(error => {
                        alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. " + error.message);
                    });
            });
        });

    </script>
    <script>

        document.addEventListener("DOMContentLoaded", function () {
            let numberInputs = document.querySelectorAll(".number-format");

            numberInputs.forEach(input => {
                input.addEventListener("input", function (event) {
                    let value = event.target.value.replace(/,/g, ""); // ì½¤ë§ˆ ì œê±°
                    if (!isNaN(value) && value !== "") {
                        event.target.value = formatNumber(value);
                    }
                });
            });
        });

        /** ì²œ ë‹¨ìœ„ ì½¤ë§ˆ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ */
        function formatNumber(value) {
            return Number(value).toLocaleString();
        }

        /** ì²œ ë‹¨ìœ„ ì½¤ë§ˆë¥¼ ì œê±°í•˜ëŠ” í•¨ìˆ˜ */
        function removeComma(value) {
            return value.replace(/,/g, "");
        }

    </script>
    <script>
        function fetchFundInfo(fundId) {
            fetch(`/api/funds/info/${fundId}`)
                .then(response => response.json())
                .then(data => updateFundInfo(data))
                .catch(error => console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", error));
        }

        function updateFundInfo(data) {
            console.log("ë°›ì•„ì˜¨ ë°ì´í„°:", data);

            // ë°ì´í„°ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ê°œë³„ì ìœ¼ë¡œ ì¶œë ¥
            Object.entries(data).forEach(([key, value]) => {
                console.log(`${key}:`, value);
            });
            document.getElementById("fundId").value = data.fundId || "";
            document.getElementById("liquidationStatus").value = data.liquidationStatus || "";
            document.getElementById("liquidationDate").value = data.liquidationDate || "";
            document.getElementById("fundName").value = data.fundName || "";
            document.getElementById("fundNameDetail").value = data.fundNameDetail || "";
            // document.getElementById("establishmentDate").value = data.establishmentDate || "";
            document.getElementById("duration").value = data.duration || "";
            document.getElementById("durationStartDate").value = data.durationStartDate || "";
            document.getElementById("durationEndDate").value = data.durationEndDate || "";
            document.getElementById("investmentDuration").value = data.investmentDuration || "";
            document.getElementById("investmentStartDate").value = data.investmentStartDate || "";
            document.getElementById("investmentEndDate").value = data.investmentEndDate || "";
            document.getElementById("committedTotalPrice").value = Number(data.committedTotalPrice).toLocaleString();
            document.getElementById("unitPrice").value = Number(data.unitPrice).toLocaleString();
            document.getElementById("fundOrganizationType").value = data.fundOrganizationType || "";
            document.getElementById("paymentType").value = data.paymentType || "";
            document.getElementById("leadFundManager").value = data.leadFundManager || "";
            document.getElementById("coreIvtManager").value = data.coreIvtManager || "";
            document.getElementById("auditorName").value = data.auditorName || "";
            document.getElementById("changeDate").value = data.changeDate || "";
            document.getElementById("trusteeCorporation").value = data.trusteeCorporation || "";
            document.getElementById("administrationCorporation").value = data.administrationCorporation || "";
            document.getElementById("targetReturnRate").value = data.targetReturnRate;
            document.getElementById("performanceFeeRate").value = data.performanceFeeRate;
            document.getElementById("managementFeeInvestmentPeriod").value = data.managementFeeInvestmentPeriod || "";
            document.getElementById("managementFeeManagementPeriod").value = data.managementFeeManagementPeriod || "";
            // document.getElementById("agreementCriteria").value = data.agreementCriteria || "";
            document.getElementById("incentiveCondition").value = data.incentiveCondition || "";
            // document.getElementById("priorLossGP").value = data.priorLossGP || "";
            // document.getElementById("priorLossLP").value = data.priorLossLP || "";

            updateFundMembersTable(data.fundMems);
            updateFundAchievementInfo(data.fundAchievement);

            document.getElementById("mandatoryPurpose").value = data.mandatoryPurpose || "";
            document.getElementById("mainInvest1Purpose").value = data.mainInvest1Purpose || "";
            document.getElementById("mainInvest2Purpose").value = data.mainInvest2Purpose || "";
            document.getElementById("specialInvest1Purpose").value = data.specialInvest1Purpose || "";
            document.getElementById("specialInvest2Purpose").value = data.specialInvest2Purpose || "";
            document.getElementById("specialInvest3Purpose").value = data.specialInvest3Purpose || "";


        }
        function updateFundMembersTable(fundMems) {
            const tableBody = document.getElementById("fundMembersTable");
            tableBody.innerHTML = "";

            fundMems.forEach(member => {
                // null ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ row ì¶”ê°€
                if (member.memberName || member.memberType || member.committedUnitPrice || member.contact || member.address || member.businessRegNo || member.residentRegNo) {
                    const formattedPrice = member.committedUnitPrice ? Number(member.committedUnitPrice).toLocaleString() : ""; // ì²œë‹¨ìœ„ ì½¤ë§ˆ ì¶”ê°€

                    const row = `<tr>
                <td>${member.memberName || ""}</td>
                <td>${member.memberType || ""}</td>
                <td>${formattedPrice}</td>
                <td>${member.contact || ""}</td>
                <td colspan="2">${member.address || ""}</td>
                <td>${member.regNo || ""}</td>
            </tr>`;
                    tableBody.innerHTML += row;
                }
            });
        }

        function updateFundAchievementInfo(fundAchievement) {
            if (!fundAchievement) return;

            document.getElementById("mandatoryPurpose").value = fundAchievement.mandatoryPurpose || "";
            document.getElementById("mandatoryCriteria").value = fundAchievement.mandatoryCriteria || "";
            document.getElementById("mandatoryCriteriaRatio").value = fundAchievement.mandatoryCriteriaRatio ?? "";

            document.getElementById("mainInvest1Purpose").value = fundAchievement.mainInvest1Purpose || "";
            document.getElementById("mainInvest1Criteria").value = fundAchievement.mainInvest1Criteria || "";
            document.getElementById("mainInvest1CriteriaRatio").value = fundAchievement.mainInvest1CriteriaRatio ?? "";

            document.getElementById("mainInvest2Purpose").value = fundAchievement.mainInvest2Purpose || "";
            document.getElementById("mainInvest2Criteria").value = fundAchievement.mainInvest2Criteria || "";
            document.getElementById("mainInvest2CriteriaRatio").value = fundAchievement.mainInvest2CriteriaRatio ?? "";

            document.getElementById("specialInvest1Purpose").value = fundAchievement.specialInvest1Purpose || "";
            document.getElementById("specialInvest1Criteria").value = fundAchievement.specialInvest1Criteria || "";
            document.getElementById("specialInvest1CriteriaRatio").value = fundAchievement.specialInvest1CriteriaRatio ?? "";

            document.getElementById("specialInvest2Purpose").value = fundAchievement.specialInvest2Purpose || "";
            document.getElementById("specialInvest2Criteria").value = fundAchievement.specialInvest2Criteria || "";
            document.getElementById("specialInvest2CriteriaRatio").value = fundAchievement.specialInvest2CriteriaRatio ?? "";

            document.getElementById("specialInvest3Purpose").value = fundAchievement.specialInvest3Purpose || "";
            document.getElementById("specialInvest3Criteria").value = fundAchievement.specialInvest3Criteria || "";
            document.getElementById("specialInvest3CriteriaRatio").value = fundAchievement.specialInvest3CriteriaRatio ?? "";
        }

        function formatNumber(value) {
            if (!value) return "";
            return Number(value).toLocaleString(); // ì²œ ë‹¨ìœ„ ì½¤ë§ˆ ì¶”ê°€
        }

        document.addEventListener("DOMContentLoaded", function () {
            let fundId = document.getElementById("fundIdValue").value;
            if (fundId) {
                fetchFundInfo(fundId);
            }
        });

    </script>


    <script defer>
        document.addEventListener("DOMContentLoaded", function () {
            // âœ… fundId ê°’ì„ hidden inputì—ì„œ ê°€ì ¸ì˜¤ê¸°
            let fundIdInput = document.getElementById("fundIdValue");
            let fundId = fundIdInput ? fundIdInput.value : null;

            console.log("âœ… fundId:", fundId);

            if (fundId) {
                window.fundId = fundId; // âœ… ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
                fetchFundInfo(fundId); // âœ… íšŒì‚¬ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°
            } else {
                console.warn("âš ï¸ fundIdë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            }
            // ì…ë ¥ íŒì—… ì—´ê¸° í•¨ìˆ˜
            // íŒì—… ì—´ê¸° í•¨ìˆ˜
            window.openPopup = function (type) {
                if (!window.fundId) {
                    alert("ë¨¼ì € ì¡°í•© ì •ë³´ë¥¼ ì¡°íšŒí•œ í›„ ì…ë ¥í•˜ì„¸ìš”.");
                    return;
                }
                let url = `/fundAdd/${type}/${window.fundId}`;


                let width = 800;
                let height = 600;

                if (type === "audit") {
                    height = 300;
                } else if (type === "staff") {
                    height = 340;
                } else if (type === "fundFinancial") {
                    height = 750;
                } else if (type === "member") {
                    width = 1350;
                    height = 800;
                }

                window.open(url, "popupWindow", `width=${width},height=${height},scrollbars=yes`);

            };
            // ğŸ”¥ ì¡°íšŒ íŒì—… ì—´ê¸° í•¨ìˆ˜
            window.openViewPopup = function (type) {
                if (!window.fundId) {
                    alert("ë¨¼ì € ê¸°ì—… ì •ë³´ë¥¼ ì¡°íšŒí•œ í›„ í™•ì¸í•˜ì„¸ìš”.");
                    return;
                }
                let url = `/fundShow/${type}/${window.fundId}`;
                let width = 800;
                let height = 600;
                // companyIdì— ë”°ë¥¸ íŒì—… í¬ê¸° ì¡°ê±´ ì„¤ì •
                if (type === "auditsByFund") {
                    width = 600;
                    height = 400;
                } else if (type === "staffsByFund") {
                    height = 500;
                } else if (type === "financialsByFund") {
                    width = 1400;
                    height = 500;
                } else if (type === "dueDiligenceByFund") {
                    width = 900;
                    height = 500;
                } else if (type === "membersByFund") {
                    // width = 1350;
                    height = 800;
                } else if (type === "IASByfund") {
                    width = 1350;
                    height = 700;
                } else if (type === "achievementByfund") {
                    height = 770;
                } else if (type === "dueDiligenceByFund") {
                    height = 500;
                } else if (type === "empChangeByFund") {
                    height = 500;
                }
                window.open(url, "popupWindow", `width=${width},height=${height},scrollbars=yes`);
            };
        });
    </script>

</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>
<div th:replace="fragments/searchModal :: searchModal"></div>


<div class="wrapper">

    <input type="hidden" id="fundIdValue" th:value="${fundId}" />

    <!-- ğŸ“Œ ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
    <nav class="sidebar">
        <a href="#" onclick="openPopup('audit')">ğŸ§‘ğŸ»â€ğŸ’¼ íšŒê³„ê°ì‚¬ì¸ ê´€ë¦¬</a>
        <a href="#" onclick="openViewPopup('auditsByFund')">ğŸ§‘ğŸ»â€ğŸ’¼ íšŒê³„ê°ì‚¬ì¸ ì´ë ¥ì¡°íšŒ</a>
        <a href="#" onclick="openPopup('staff')">ğŸ’¼ ìš´ìš©ì¸ë ¥ ê´€ë¦¬</a>
        <a href="#" onclick="openViewPopup('staffsByFund')">ğŸ’¼ ìš´ìš©ì¸ë ¥ ì´ë ¥ì¡°íšŒ</a>
        <a href="#" onclick="openPopup('fundFinancial')">ğŸ—‚ï¸ ì¬ë¬´ì œí‘œ ê´€ë¦¬</a>
        <a href="#" onclick="openViewPopup('financialsByFund')">ğŸ—‚ï¸ ì¬ë¬´ì œí‘œ ì´ë ¥ì¡°íšŒ</a>
        <a href="#" onclick="openPopup('member')">ğŸ‘¤ ì¡°í•©ì›ëª…ë¶€ ê´€ë¦¬</a>
        <a href="#" onclick="openViewPopup('membersByFund')">ğŸ‘¤ ì¡°í•©ì›ëª…ë¶€ ì¡°íšŒ</a>
        <a href="#" onclick="openViewPopup('IASByfund')">ğŸ’° íˆ¬ììì‚°ì´ê´„í‘œ ì¡°íšŒ</a>
        <a href="#" onclick="openViewPopup('achievementByfund')">ğŸ– íˆ¬ììœ¨ë‹¬ì„±ì—¬ë¶€ ì¡°íšŒ</a>
        <!--        <a href="#" onclick="openViewPopup('#')">ğŸªª íˆ¬ìì¡°í•©í‰ê°€ê²°ê³¼ ì¡°íšŒ</a>-->
        <a href="#" onclick="openViewPopup('dueDiligenceByFund')">ğŸ” íˆ¬ìê¸°ì—…ì‹¤ì‚¬ ì¡°íšŒ</a>
        <a href="#" onclick="openViewPopup('empChangeByFund')">ğŸ‘¥ ê³ ìš©ì¸ë ¥ ì´ë ¥ì¡°íšŒ</a>
    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let fundId = document.getElementById("fundIdValue").value;
            console.log("âœ… fundId:", fundId);
            if (fundId) {
                fetchFundInfo(fundId);
            }
        });
    </script>
    <!-- ğŸ“Œ ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <div class="content">
        <h2>ì¡°í•© ì •ë³´ ì¡°íšŒ</h2>

        <form id="fundUpdateForm">
            <!-- 1. íšŒì‚¬ ê¸°ë³¸ ì •ë³´ -->
            <table class="table table-bordered text-center">
                <thead>
                <tr><th colspan="7">íˆ¬ìì¡°í•© ê³ ìœ ì •ë³´</th></tr>
                </thead>
                <tbody>
                <tr>
                    <th>ì¡°í•© ê³ ìœ ë²ˆí˜¸</th>
                    <td colspan="2"><input type="text" class="form-control" name="fundId" id="fundId"></td>
                    <th>ì²­ì‚°ì—¬ë¶€</th>
                    <td>
                        <select class="form-control" name="liquidationStatus" id="liquidationStatus">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="Y">Y</option>
                            <option value="N">N</option>
                        </select>
                    </td>
                    <th>ì²­ì‚°ì¼ì</th>
                    <td><input type="date" class="form-control" name="liquidationDate" id="liquidationDate"></td>
                </tr>
                <tr>
                    <th>ì¡°í•©ëª…</th>
                    <td colspan="2"><input type="text" class="form-control" name="fundName" id="fundName"></td>
                    <th>ì„¸ë¶€ì¡°í•©ëª…</th>
                    <td colspan="3"><input type="text" class="form-control" name="fundNameDetail" id="fundNameDetail"></td>
                    <!--                    <th>ê²°ì„±ì´ì•¡ì¼</th>-->
                    <!--                    <td colspan="2"><input type="date" class="form-control" name="establishmentDate" id="establishmentDate"></td>-->
                </tr>
                <tr>
                    <th>ì¡´ì†ê¸°ê°„(ë…„)</th>
                    <td colspan="2"><input type="number" class="form-control" name="duration" id="duration"></td>
                    <th>ì¡´ì†ê¸°ê°„ ì‹œì‘ì¼</th>
                    <td><input type="date" class="form-control" name="durationStartDate" id="durationStartDate"></td>
                    <th>ì¡´ì†ê¸°ê°„ ì¢…ë£Œì¼</th>
                    <td><input type="date" class="form-control" name="durationEndDate" id="durationEndDate"></td>
                </tr>
                <tr>
                    <th>íˆ¬ìê¸°ê°„(ë…„)</th>
                    <td colspan="2"><input type="number" class="form-control" name="investmentDuration" id="investmentDuration"></td>
                    <th>íˆ¬ìê¸°ê°„ ì‹œì‘ì¼</th>
                    <td><input type="date" class="form-control" name="investmentStartDate" id="investmentStartDate"></td>
                    <th>íˆ¬ìê¸°ê°„ ì¢…ë£Œì¼</th>
                    <td><input type="date" class="form-control" name="investmentEndDate" id="investmentEndDate"></td>
                </tr>
                <tr>
                    <th>ì•½ì • ì´ì•¡</th>
                    <td colspan="2"><input type="text" class="form-control number-format" name="committedTotalPrice" id="committedTotalPrice"></td>
                    <th>1ì¢Œë‹¹ ê¸ˆì•¡</th>
                    <td colspan="3"><input type="text" class="form-control number-format" name="unitPrice" id="unitPrice"></td>
                </tr>
                <tr>
                    <th>íˆ¬ìê¸°êµ¬ ìœ í˜•</th>
                    <td colspan="2">
                        <select class="form-control" name="fundOrganizationType" id="fundOrganizationType">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ê°œì¸íˆ¬ìì¡°í•©">ê°œì¸íˆ¬ìì¡°í•©</option>
                            <option value="ë²¤ì²˜íˆ¬ìì¡°í•©">ë²¤ì²˜íˆ¬ìì¡°í•©</option>
                        </select>
                    </td>
                    <th>ë‚©ì…ë°©ë²•</th>
                    <td colspan="3">
                        <select class="form-control" name="paymentType" id="paymentType">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ìˆ˜ì‹œë‚©">ìˆ˜ì‹œë‚©</option>
                            <option value="ì¼ì‹œë‚©">ì¼ì‹œë‚©</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>ëŒ€í‘œí€ë“œë§¤ë‹ˆì €</th>
                    <td colspan="2"><input type="text" class="form-control" name="leadFundManager" id="leadFundManager"></td>
                    <th>í•µì‹¬ìš´ìš©ì¸ë ¥</th>
                    <td colspan="3"><input type="text" class="form-control" name="coreIvtManager" id="coreIvtManager"></td>
                </tr>
                <tr>
                    <th>íšŒê³„ê°ì‚¬ì¸ëª…</th>
                    <td colspan="2"><input type="text" class="form-control" id="auditorName" readonly></td>
                    <th>íšŒê³„ê°ì‚¬ì¸ ë³€ê²½ì¼ì</th>
                    <td colspan="3"><input type="date" class="form-control" id="changeDate" readonly></td>
                </tr>
                <tr>
                    <th>ìˆ˜íƒíšŒì‚¬(ì€í–‰)</th>
                    <td colspan="2"><input type="text" class="form-control" name="trusteeCorporation" id="trusteeCorporation"></td>
                    <th>ì‚¬ë¬´ìˆ˜íƒë²•ì¸</th>
                    <td colspan="3"><input type="text" class="form-control" name="administrationCorporation" id="administrationCorporation"></td>
                </tr>
                </tbody>

                <thead>
                <tr><th colspan="7">íˆ¬ìì¡°í•© ë³´ìˆ˜ì¡°ê±´</th></tr>
                </thead>
                <tbody>
                <tr>
                    <th>ê¸°ì¤€ìˆ˜ìµë¥ (%)</th>
                    <td colspan="2"><input type="number" step="0.01" class="form-control" name="targetReturnRate" id="targetReturnRate"></td>
                    <th>ì„±ê³¼ë³´ìˆ˜ìœ¨(%)</th>
                    <td colspan="3"><input type="number" step="0.01" class="form-control" name="performanceFeeRate" id="performanceFeeRate"></td>
                </tr>
                <tr>
                    <th>íˆ¬ìê¸°ê°„ ê´€ë¦¬ë³´ìˆ˜</th>
                    <td colspan="7"><input type="text" class="form-control" name="managementFeeInvestmentPeriod" id="managementFeeInvestmentPeriod"></td>
                </tr>
                <tr>
                    <th>ìš´ì˜ê¸°ê°„ ê´€ë¦¬ë³´ìˆ˜</th>
                    <td colspan="7"><input type="text" class="form-control" name="managementFeeManagementPeriod" id="managementFeeManagementPeriod"></td>
                </tr>
                <tr>
                    <th>ì¸ì„¼í‹°ë¸Œ ì¡°ê±´</th>
                    <td colspan="7"><input type="text" class="form-control" name="incentiveCondition" id="incentiveCondition"></td>
                </tr>
                <!--                <tr>-->
                <!--                    <th>ìš°ì„ ì†ì‹¤ì¶©ë‹¹ GP</th>-->
                <!--                    <td colspan="7"><input type="text" class="form-control" name="priorLossGP" id="priorLossGP"></td>-->
                <!--                </tr>-->
                <!--                <tr>-->
                <!--                    <th>ìš°ì„ ì†ì‹¤ì¶©ë‹¹ LP</th>-->
                <!--                    <td colspan="7"><input type="text" class="form-control" name="priorLossLP" id="priorLossLP"></td>-->
                <!--                </tr>-->


                <tr><th colspan="7">íˆ¬ìì¡°í•© íˆ¬ìì¡°ê±´</th></tr>
                </tbody>
                <!-- ğŸ”¥ ì˜ë¬´ íˆ¬ì -->
                <tr>
                    <th>ì˜ë¬´íˆ¬ì ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control" id="mandatoryPurpose" name="mandatoryPurpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                        <th>ê¸°ì¤€ëŒ€ìƒ</th>
                        <td>
                            <select class="form-control" id="mandatoryCriteria" name="mandatoryCriteria">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                                <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                                <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                            </select>
                        </td>
                        <th>ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                        <td><input type="number" step="0.01" class="form-control" id="mandatoryCriteriaRatio" name="mandatoryCriteriaRatio"></td>
                    <!--                    <th>ê¸ˆì•¡</th>-->
                    <!--                    <td colspan="3"><input type="text" class="form-control number-format" id="mandatoryTotal" name="mandatoryTotal"></td>-->
                    </tr>
                    <tr>
                    <!-- ğŸ”¥ ì£¼ëª©ì  íˆ¬ì 1 -->
                    <th>ì£¼ëª©ì íˆ¬ì 1 ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control" id="mainInvest1Purpose" name="mainInvest1Purpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ</th>
                    <td>
                        <select class="form-control" id="mainInvest1Criteria" name="mainInvest1Criteria">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                            <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                    <td><input type="number" step="0.01" class="form-control" id="mainInvest1CriteriaRatio" name="mainInvest1CriteriaRatio"></td>
                    <!--                    <th>ê¸ˆì•¡</th>-->
                    <!--                    <td><input type="text" class="form-control number-format" id="mainInvest1Total" name="mainInvest1Total"></td>-->
                    </tr>
                    <tr>
                    <!-- ğŸ”¥ ì£¼ëª©ì  íˆ¬ì 2 -->
                    <th>ì£¼ëª©ì íˆ¬ì 2 ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control" id="mainInvest2Purpose" name="mainInvest2Purpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ</th>
                    <td>
                        <select class="form-control" id="mainInvest2Criteria" name="mainInvest2Criteria">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                            <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                    <td><input type="number" step="0.01" class="form-control" id="mainInvest2CriteriaRatio" name="mainInvest2CriteriaRatio"></td>
                    <!--                    <th>ê¸ˆì•¡</th>-->
                    <!--                    <td><input type="text" class="form-control number-format" id="mainInvest2Total" name="mainInvest2Total"></td>-->
                </tr>


                <!-- ğŸ”¥ íŠ¹ìˆ˜ëª©ì  íˆ¬ì 1 -->
                <tr>
                    <th>íŠ¹ìˆ˜ëª©ì íˆ¬ì 1 ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control" id="specialInvest1Purpose" name="specialInvest1Purpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ</th>
                    <td>
                        <select class="form-control" id="specialInvest1Criteria" name="specialInvest1Criteria">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                            <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                        </select>
                    </td>
                    <th> ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                    <td><input type="number" step="0.01" class="form-control" id="specialInvest1CriteriaRatio" name="specialInvest1CriteriaRatio"></td>
                    <!--                    <th> ê¸ˆì•¡</th>-->
                    <!--                    <td><input type="text" class="form-control number-format" id="specialInvest1Total" name="specialInvest1Total"></td>-->
                    </tr>
                    <tr>
                    <!-- ğŸ”¥ íŠ¹ìˆ˜ëª©ì  íˆ¬ì 2 -->
                    <th>íŠ¹ìˆ˜ëª©ì íˆ¬ì 2 ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control" id="specialInvest2Purpose" name="specialInvest2Purpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ</th>
                    <td>
                        <select class="form-control" id="specialInvest2Criteria" name="specialInvest2Criteria">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                            <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                    <td><input type="number" step="0.01" class="form-control" id="specialInvest2CriteriaRatio" name="specialInvest2CriteriaRatio"></td>
                    <!--                    <th> ê¸ˆì•¡</th>-->
                    <!--                    <td><input type="text" class="form-control number-format" id="specialInvest2Total" name="specialInvest2Total"></td>-->
                    </tr>
                    <tr>
                    <!-- ğŸ”¥ íŠ¹ìˆ˜ëª©ì  íˆ¬ì 3 -->
                    <th>íŠ¹ìˆ˜ëª©ì íˆ¬ì 3 ëª©ì </th>
                    <td colspan="2">
                        <select class="form-control"  id="specialInvest3Purpose" name="specialInvest3Purpose">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸°ì°½ì—…">ì´ˆê¸°ì°½ì—…</option>
                            <option value="ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…">ìƒì¥ë˜ì§€ ì•Šì€ ì°½ì—…ì ë˜ëŠ” ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ì¶œìì•½ì •ì•¡ 80%íˆ¬ì">ì¶œìì•½ì •ì•¡ 80% íˆ¬ì</option>
                            <option value="ëŒ€í•™ì°½ì—…">ëŒ€í•™ì°½ì—…</option>
                            <option value="í•™ìƒì°½ì—…">í•™ìƒì°½ì—…</option>
                            <option value="ì§€ë°©ê¸°ì—…">ì§€ë°©ê¸°ì—…</option>
                            <option value="ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…">ê³µê³µê¸°ìˆ ì‚¬ì—…í™” ì¤‘ì†Œ,ë²¤ì²˜ê¸°ì—…</option>
                            <option value="ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…">ê³ ë ¤ëŒ€ ì°½ì—…ê¸°ì—…</option>
                            <option value="ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…">ê³µê³µì—°êµ¬ê¸°ê´€ ê¸°ìˆ í™œìš© ì‚¬ì—…í™”ê¸°ì—…</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ</th>
                    <td>
                        <select class="form-control" name="specialInvest3Criteria">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íˆ¬ì ì”ì•¡">íˆ¬ì ì”ì•¡</option>
                            <option value="ì¶œìì•½ì •ì•¡">ì¶œìì•½ì •ì•¡</option>
                        </select>
                    </td>
                    <th>ê¸°ì¤€ëŒ€ìƒ ë¹„ìœ¨(%)</th>
                    <td><input type="number" step="0.01" class="form-control" name="specialInvest3CriteriaRatio"></td>
                    <!--                    <th> ê¸ˆì•¡</th>-->
                    <!--                    <td><input type="text" class="form-control number-format" name="specialInvest3Total"></td>-->
                </tr>
                <!-- íˆ¬ìì¡°í•©ì› ëª…ë¶€ -->
                <thead>
                <tr><th colspan="7">íˆ¬ìì¡°í•© ì¡°í•©ì› ëª…ë¶€</th></tr>
                <tr>
                    <th>ì¡°í•©ì›</th>
                    <th>ì¡°í•©ì›ìœ í˜•</th>
                    <th>ì¶œìì•½ì •ì•¡</th>
                    <th>ì—°ë½ì²˜</th>
                    <th colspan="2">ì£¼ì†Œ</th>
                    <th>ì‚¬ì—…ìãƒ»ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸</th>
                    <!--                <th>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸</th>-->
                </tr>
                </thead>
                <tbody id="fundMembersTable"></tbody>
            </table>

            <!-- ì €ì¥ ë²„íŠ¼ -->
            <div class="button-container text-end">
                <button type="submit" class="btn btn-primary">ì €ì¥</button>
            </div>
        </form>

    </div>
</div>


</body>
</html>
